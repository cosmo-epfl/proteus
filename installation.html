<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; Rascal 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/rascal.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="User’s Guide" href="user_guide/user_guide.html" />
    <link rel="prev" title="Welcome to librascal’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Rascal
          </a>
              <div class="version">
                0.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#get-librascal">Get librascal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiling">Compiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#customizing-the-build">Customizing the build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tests">Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#build-type">Build Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bindings">Bindings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-rascal">Installing rascal</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#helpers-for-developers">Helpers for Developers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#deepclean">Deepclean</a></li>
<li class="toctree-l4"><a class="reference internal" href="#automatic-code-formatting">Automatic code formatting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#jupyter-notebooks">Jupyter notebooks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#miscellaneous-information">Miscellaneous Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-rascal">Run Rascal</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-options">Advanced options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_guide/user_guide.html">User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="whitepaper.html">Goals &amp; Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="SOAP.html">SOAP Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_guide/developer.html">Developer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rascal</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h1>
<section id="get-librascal">
<h2>Get librascal<a class="headerlink" href="#get-librascal" title="Permalink to this headline"></a></h2>
<p>It is strongly recommended to clone librascal from its repository in GitHub.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/lab-cosmo/librascal.git
</pre></div>
</div>
<p>The installation of the library for python use can be done simply with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install .
</pre></div>
</div>
<p>assuming that <cite>python</cite> 3.5 (or higher) and <cite>gcc</cite> or <cite>clang</cite> are available.</p>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline"></a></h3>
<p>Before installing librascal, please make sure you have at least the
following packages installed:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 39%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Package</p></th>
<th class="head"><p>Required version</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>gcc (g++)</p></td>
<td><p>4.9 or higher</p></td>
</tr>
<tr class="row-odd"><td><p>clang</p></td>
<td><p>4.0 or higher</p></td>
</tr>
<tr class="row-even"><td><p>cmake</p></td>
<td><p>2.8 or higher</p></td>
</tr>
<tr class="row-odd"><td><p>python</p></td>
<td><p>3.6 or higher</p></td>
</tr>
<tr class="row-even"><td><p>numpy</p></td>
<td><p>1.13 or higher</p></td>
</tr>
<tr class="row-odd"><td><p>scipy</p></td>
<td><p>1.4.0 or higher</p></td>
</tr>
<tr class="row-even"><td><p>ASE</p></td>
<td><p>3.18 or higher</p></td>
</tr>
</tbody>
</table>
<p>Other necessary packages (such as Eigen and pybind11) are downloaded
automatically when compiling Rascal.</p>
<p>The following packages are required for some optional features:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 22%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>Package</p></th>
<th class="head"><p>Required version</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Feature compression</p></td>
<td><p>skcosmo</p></td>
<td><p>0.1.0 or later</p></td>
</tr>
<tr class="row-odd"><td><p>Rotational algebra
(Clebsch-Gordan coeffs.)</p></td>
<td><p>sympy</p></td>
<td><p>1.4 or later</p></td>
</tr>
<tr class="row-even"><td><p>Building documentation</p></td>
<td><p>pandoc</p></td>
<td><p>(latest)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>sphinx</p></td>
<td><p>2.1.2 or later</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>breathe</p></td>
<td><p>4.14.1 or later</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>nbsphinx</p></td>
<td><p>0.8.1 or later</p></td>
</tr>
</tbody>
</table>
</section>
<section id="compiling">
<h3>Compiling<a class="headerlink" href="#compiling" title="Permalink to this headline"></a></h3>
<p>To compile the code it is necessary to have CMake 3.0 and a C++ compiler
supporting C++14. During the configuration, it will automatically try to
download the external libraries on which it depends:</p>
<ul class="simple">
<li><p>Eigen</p></li>
<li><p>pybind11</p></li>
<li><p>Boost (only the unit test framework library)</p></li>
<li><p>Python3</p></li>
</ul>
<p>And the following libraries to build the documentation:</p>
<ul class="simple">
<li><p>Doxygen</p></li>
<li><p>Sphinx</p></li>
<li><p>Breathe</p></li>
</ul>
<p>Beware, Python3 is mandatory. The code won’t work with a Python version
older than 3.</p>
<p>You can then use pip to install all python packages required for the usage
and development of rascal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -r requirements.txt
</pre></div>
</div>
<p>To configure and compile the code with the default options, on *nix
systems (Windows is not supported):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mkdir build
<span class="nb">cd</span> build
cmake ..
make
</pre></div>
</div>
</section>
<section id="customizing-the-build">
<h3>Customizing the build<a class="headerlink" href="#customizing-the-build" title="Permalink to this headline"></a></h3>
<p>The library supports several alternative builds that have additional
dependencies. Note that the <code class="docutils literal notranslate"><span class="pre">ncurses</span></code> GUI for cmake (ccmake) is quite
helpful to customize the build options.</p>
<section id="tests">
<h4>Tests<a class="headerlink" href="#tests" title="Permalink to this headline"></a></h4>
<p>Librascal source code is extensively tested (both c++ and python).
The BOOST unit_test_framework is required to build the tests (see
BOOST.md for further details on how to install the boost library). To
build and run the tests:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build
cmake -DBUILD_TESTS<span class="o">=</span>ON ..
make
ctest -V
</pre></div>
</div>
<p>You can also run the tests with Valgrind (a memory-error checker) by passing
<code class="docutils literal notranslate"><span class="pre">-DRASCAL_TESTS_USE_VALGRIND=ON</span></code> to <code class="docutils literal notranslate"><span class="pre">cmake</span></code>.</p>
<p>In addition to testing the behaviour of the code, the test suite also check
for formatting compliance with clang-format 8.0 or higher and black packages
(these dependencies are optional). To install these dependencies on Ubuntu:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo apt-get install clang-format-8
pip3 install black
</pre></div>
</div>
</section>
<section id="build-type">
<h4>Build Type<a class="headerlink" href="#build-type" title="Permalink to this headline"></a></h4>
<p>Several build types are available Release (default), Debug and
RelWithDebInfo. To build an alternative mode</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build
cmake -DCMAKE_BUILD_TYPE<span class="o">=</span>Debug
..
make
</pre></div>
</div>
<p>Or</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build
cmake -DCMAKE_BUILD_TYPE<span class="o">=</span>RelWithDebInfo  <span class="se">\\</span>
   <span class="nv">CMAKE_C_FLAGS_RELWITHDEBUBINFO</span><span class="o">=</span><span class="s2">&quot;-03 -g -DNDEBUG&quot;</span> ..
make
</pre></div>
</div>
</section>
<section id="documentation">
<h4>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline"></a></h4>
<p>The documentation relies on the sphinx (with nbsphinx and breathe
extensions), doxygen, pandoc, and graphviz
packages. To install them on ubuntu:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip3 install sphinx sphinx_rtd_theme breathe nbsphinx
sudo apt-get install pandoc doxygen graphviz
</pre></div>
</div>
<p>Then to build the documentation run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build
cmake -DBUILD_DOC<span class="o">=</span>ON ..
make doc
</pre></div>
</div>
<p>and open <code class="file docutils literal notranslate"><span class="pre">build/docs/html/index.html</span></code> in a browser.</p>
</section>
<section id="bindings">
<h4>Bindings<a class="headerlink" href="#bindings" title="Permalink to this headline"></a></h4>
<p>Librascal relies on the pybind11 library to automate the generation
of the python bindings which are built by default. Nevertheless, to
build only the c++ library:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build
cmake -DBUILD_BINDINGS<span class="o">=</span>OFF ..
make
</pre></div>
</div>
</section>
<section id="installing-rascal">
<h4>Installing rascal<a class="headerlink" href="#installing-rascal" title="Permalink to this headline"></a></h4>
<p>To install the python library with c++ bindings:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip install .
</pre></div>
</div>
</section>
</section>
<section id="helpers-for-developers">
<h3>Helpers for Developers<a class="headerlink" href="#helpers-for-developers" title="Permalink to this headline"></a></h3>
<section id="deepclean">
<h4>Deepclean<a class="headerlink" href="#deepclean" title="Permalink to this headline"></a></h4>
<p>To remove all the cmake files/folders except for the external
library (enable glob and remove):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">shopt</span> -s extglob
rm -fr -- !<span class="o">(</span>external<span class="p">|</span>third-party<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="automatic-code-formatting">
<h4>Automatic code formatting<a class="headerlink" href="#automatic-code-formatting" title="Permalink to this headline"></a></h4>
<p>To help developers conform their contribution to the coding
convention, the formatting of new functionalities can be automated
using clang-format (for the c++ files) and black (for the
python files). The .clang-format and .pycodestyle files define
common settings to be used.</p>
<p>To enable these functionalities (optional) you can install these
tools with:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo apt-get install clang-format
pip install black
</pre></div>
</div>
<p>The automatic formatting of the c++ and python files can be
triggered by:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build
cmake ..
make pretty-cpp
make pretty-python
</pre></div>
</div>
<p>Please use these tools with caution as they can potentially
introduce unwanted changes to the code. If code needs to be
specifically excluded from auto formatting, e.g. a matrix which
should be human-readable, code comments tells the formatters to
ignore lines:</p>
<ul>
<li><p>C++</p>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// clang-format off</span>
<span class="n">SOME</span><span class="w"> </span><span class="n">CODE</span><span class="w"> </span><span class="n">TO</span><span class="w"> </span><span class="n">IGNORE</span><span class="w"></span>
<span class="c1">// clang-format on</span>
</pre></div>
</div>
</li>
<li><p>python</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">SOME</span> <span class="n">LINE</span> <span class="n">TO</span> <span class="n">IGNORE</span> <span class="c1"># noqa</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">noqa</span></code> stands for <code class="docutils literal notranslate"><span class="pre">no</span></code> <code class="docutils literal notranslate"><span class="pre">q</span></code>uality <code class="docutils literal notranslate"><span class="pre">a</span></code>ssurance.</p>
</li>
</ul>
</section>
<section id="jupyter-notebooks">
<h4>Jupyter notebooks<a class="headerlink" href="#jupyter-notebooks" title="Permalink to this headline"></a></h4>
<p>If you are contributing any code in IPython/Jupyter notebooks, <em>please</em>
install the <cite>nbstripout</cite> extension (available e.g. on
<a class="reference external" href="https://github.com/kynan/nbstripout#installation">github</a> and
<a class="reference external" href="https://pypi.org/project/nbstripout/">PyPI</a>).  After installing,
activate it for this project by running:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>nbstripout --install --attributes .gitattributes
</pre></div>
</div>
<p>from the top-level repository directory.  Please note that that
<code class="docutils literal notranslate"><span class="pre">nbstripout</span></code> will not strip output from cells with the metadata fields
<code class="docutils literal notranslate"><span class="pre">keep_output</span></code> or <code class="docutils literal notranslate"><span class="pre">init_cell</span></code> set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, so use these fields
judiciously.  You can ignore these settings with the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git config filter.nbstripout.extrakeys <span class="s1">&#39;\</span>
<span class="s1">   cell.metadata.keep_output cell.metadata.init_cell&#39;</span>
</pre></div>
</div>
<p>(The keys <code class="docutils literal notranslate"><span class="pre">metadata.kernel_spec.name</span></code> and
<code class="docutils literal notranslate"><span class="pre">metadata.kernel_spec.display_name</span></code> may also be useful to reduce diff
noise.)</p>
<p>Nonetheless, it is highly discouraged to contribute code in the form of
notebooks; even with filters like <code class="docutils literal notranslate"><span class="pre">nbstripout</span></code> they’re a hassle to use
in version control.  Use them only for tutorials or <em>stable</em> examples that
are either meant to be run <em>interactively</em> or are meant to be processed by
<cite>sphinx</cite> (<a class="reference external" href="https://nbsphinx.readthedocs.io/en/latest/">nbsphinx</a>) for
inclusion in the
<a class="reference external" href="https://lab-cosmo.github.io/librascal/tutorials/tutorials.html">tutorials page</a>.</p>
</section>
</section>
</section>
<section id="miscellaneous-information">
<h2>Miscellaneous Information<a class="headerlink" href="#miscellaneous-information" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Common cmake flags:</p>
<ul>
<li><p>-DCMAKE_CXX_COMPILER</p></li>
<li><p>-DCMAKE_C_COMPILER</p></li>
<li><p>-DCMAKE_BUILD_TYPE</p></li>
<li><p>-DBUILD_BINDINGS</p></li>
<li><p>-DINSTALL_PATH</p></li>
<li><p>-DBUILD_DOC</p></li>
<li><p>-DBUILD_TESTS</p></li>
</ul>
</li>
<li><p>Special flags:</p>
<ul>
<li><p>-DBUILD_BINDINGS:</p>
<ul>
<li><p>ON (default) -&gt; build python binding</p></li>
<li><p>OFF -&gt; does not build python binding</p></li>
</ul>
</li>
<li><p>-DINSTALL_PATH:</p>
<ul>
<li><p>empty (default) -&gt; does not install in a custom folder</p></li>
<li><p>custom string -&gt; root path for the installation</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>To build librascal as a docker environment:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo docker build -t <span class="nb">test</span> -f ./docker/install_env.dockerfile  .
sudo docker run -it -v /path/to/repo/:/home/user/  <span class="nb">test</span>
</pre></div>
</div>
</section>
<section id="run-rascal">
<h2>Run Rascal<a class="headerlink" href="#run-rascal" title="Permalink to this headline"></a></h2>
<p>In order to run Rascal, you need to import the library into a Python code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">rascal</span>
<span class="kn">from</span> <span class="nn">rascal.representations</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</section>
<section id="advanced-options">
<h2>Advanced options<a class="headerlink" href="#advanced-options" title="Permalink to this headline"></a></h2>
<p>It is possible to link Rascal with other scientific calculation packages, like
LAMMPS, ASE, i-PI, and n2p2.  These interfaces are still a work in progress.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to librascal’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="user_guide/user_guide.html" class="btn btn-neutral float-right" title="User’s Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Chiheb Ben Mahmoud, Michele Ceriotti, Federico Giberti,
Klim Goldshtein, Till Junge, Markus Stricker, Félix Musil, Max Veit.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>